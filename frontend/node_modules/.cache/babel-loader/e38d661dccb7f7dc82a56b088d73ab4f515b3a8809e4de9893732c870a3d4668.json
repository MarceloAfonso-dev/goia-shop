{"ast":null,"code":"import React,{useState,useEffect}from'react';import'bootstrap/dist/css/bootstrap.min.css';import LandingPage from'./components/LandingPage';import Login from'./components/Login';import Dashboard from'./components/Dashboard';import{useAuth}from'./hooks/useAuth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{user,loading,login,logout}=useAuth();const[currentPage,setCurrentPage]=useState('landing');// 'landing', 'login', 'dashboard'\n// Quando o usuário for carregado do localStorage, ir direto para o dashboard\nuseEffect(()=>{if(user){console.log('App - usuário logado detectado, indo para dashboard');setCurrentPage('dashboard');}else{console.log('App - usuário não logado, ficando na landing');setCurrentPage('landing');}},[user]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:{height:'100vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Carregando...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"Carregando GOIA Shop...\"})]})});}const handleLoginClick=()=>{setCurrentPage('login');};const handleLoginSuccess=userData=>{login(userData);setCurrentPage('dashboard');};const handleLogout=()=>{logout();setCurrentPage('landing');};const handleBackToLanding=()=>{setCurrentPage('landing');};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[currentPage==='landing'&&/*#__PURE__*/_jsx(LandingPage,{onLoginClick:handleLoginClick}),currentPage==='login'&&/*#__PURE__*/_jsx(Login,{onLoginSuccess:handleLoginSuccess,onBackToLanding:handleBackToLanding}),currentPage==='dashboard'&&user&&/*#__PURE__*/_jsx(Dashboard,{user:user,onLogout:handleLogout})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","LandingPage","Login","Dashboard","useAuth","jsx","_jsx","jsxs","_jsxs","App","user","loading","login","logout","currentPage","setCurrentPage","console","log","className","style","height","children","role","handleLoginClick","handleLoginSuccess","userData","handleLogout","handleBackToLanding","onLoginClick","onLoginSuccess","onBackToLanding","onLogout"],"sources":["D:/PI4/goia-shop/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport LandingPage from './components/LandingPage';\r\nimport Login from './components/Login';\r\nimport Dashboard from './components/Dashboard';\r\nimport { useAuth } from './hooks/useAuth';\r\n\r\nfunction App() {\r\n  const { user, loading, login, logout } = useAuth();\r\n  const [currentPage, setCurrentPage] = useState('landing'); // 'landing', 'login', 'dashboard'\r\n\r\n  // Quando o usuário for carregado do localStorage, ir direto para o dashboard\r\n  useEffect(() => {\r\n    if (user) {\r\n      console.log('App - usuário logado detectado, indo para dashboard');\r\n      setCurrentPage('dashboard');\r\n    } else {\r\n      console.log('App - usuário não logado, ficando na landing');\r\n      setCurrentPage('landing');\r\n    }\r\n  }, [user]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '100vh' }}>\r\n        <div className=\"text-center\">\r\n          <div className=\"spinner-border text-primary\" role=\"status\">\r\n            <span className=\"visually-hidden\">Carregando...</span>\r\n          </div>\r\n          <p className=\"mt-2\">Carregando GOIA Shop...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleLoginClick = () => {\r\n    setCurrentPage('login');\r\n  };\r\n\r\n  const handleLoginSuccess = (userData) => {\r\n    login(userData);\r\n    setCurrentPage('dashboard');\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    setCurrentPage('landing');\r\n  };\r\n\r\n  const handleBackToLanding = () => {\r\n    setCurrentPage('landing');\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {currentPage === 'landing' && (\r\n        <LandingPage onLoginClick={handleLoginClick} />\r\n      )}\r\n      {currentPage === 'login' && (\r\n        <Login \r\n          onLoginSuccess={handleLoginSuccess}\r\n          onBackToLanding={handleBackToLanding}\r\n        />\r\n      )}\r\n      {currentPage === 'dashboard' && user && (\r\n        <Dashboard user={user} onLogout={handleLogout} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,sCAAsC,CAC7C,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,OAASC,OAAO,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAEC,IAAI,CAAEC,OAAO,CAAEC,KAAK,CAAEC,MAAO,CAAC,CAAGT,OAAO,CAAC,CAAC,CAClD,KAAM,CAACU,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAC,SAAS,CAAC,CAAE;AAE3D;AACAC,SAAS,CAAC,IAAM,CACd,GAAIU,IAAI,CAAE,CACRM,OAAO,CAACC,GAAG,CAAC,qDAAqD,CAAC,CAClEF,cAAc,CAAC,WAAW,CAAC,CAC7B,CAAC,IAAM,CACLC,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC,CAC3DF,cAAc,CAAC,SAAS,CAAC,CAC3B,CACF,CAAC,CAAE,CAACL,IAAI,CAAC,CAAC,CAEV,GAAIC,OAAO,CAAE,CACX,mBACEL,IAAA,QAAKY,SAAS,CAAC,kDAAkD,CAACC,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAQ,CAAE,CAAAC,QAAA,cAC3Fb,KAAA,QAAKU,SAAS,CAAC,aAAa,CAAAG,QAAA,eAC1Bf,IAAA,QAAKY,SAAS,CAAC,6BAA6B,CAACI,IAAI,CAAC,QAAQ,CAAAD,QAAA,cACxDf,IAAA,SAAMY,SAAS,CAAC,iBAAiB,CAAAG,QAAA,CAAC,eAAa,CAAM,CAAC,CACnD,CAAC,cACNf,IAAA,MAAGY,SAAS,CAAC,MAAM,CAAAG,QAAA,CAAC,yBAAuB,CAAG,CAAC,EAC5C,CAAC,CACH,CAAC,CAEV,CAEA,KAAM,CAAAE,gBAAgB,CAAGA,CAAA,GAAM,CAC7BR,cAAc,CAAC,OAAO,CAAC,CACzB,CAAC,CAED,KAAM,CAAAS,kBAAkB,CAAIC,QAAQ,EAAK,CACvCb,KAAK,CAACa,QAAQ,CAAC,CACfV,cAAc,CAAC,WAAW,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAW,YAAY,CAAGA,CAAA,GAAM,CACzBb,MAAM,CAAC,CAAC,CACRE,cAAc,CAAC,SAAS,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAY,mBAAmB,CAAGA,CAAA,GAAM,CAChCZ,cAAc,CAAC,SAAS,CAAC,CAC3B,CAAC,CAED,mBACEP,KAAA,QAAKU,SAAS,CAAC,KAAK,CAAAG,QAAA,EACjBP,WAAW,GAAK,SAAS,eACxBR,IAAA,CAACL,WAAW,EAAC2B,YAAY,CAAEL,gBAAiB,CAAE,CAC/C,CACAT,WAAW,GAAK,OAAO,eACtBR,IAAA,CAACJ,KAAK,EACJ2B,cAAc,CAAEL,kBAAmB,CACnCM,eAAe,CAAEH,mBAAoB,CACtC,CACF,CACAb,WAAW,GAAK,WAAW,EAAIJ,IAAI,eAClCJ,IAAA,CAACH,SAAS,EAACO,IAAI,CAAEA,IAAK,CAACqB,QAAQ,CAAEL,YAAa,CAAE,CACjD,EACE,CAAC,CAEV,CAEA,cAAe,CAAAjB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}